{
  "_format": "hh-sol-artifact-1",
  "contractName": "BallotSystem",
  "sourceName": "contracts/BallotSystem.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_ballottoken",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "BallotToken",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "chairperson",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "question",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "minAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "startTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "period",
          "type": "uint256"
        }
      ],
      "name": "createBallot",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "endVote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAllBallots",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "components": [
                {
                  "internalType": "address",
                  "name": "voter",
                  "type": "address"
                },
                {
                  "internalType": "enum BallotSystem.Answer",
                  "name": "answer",
                  "type": "uint8"
                },
                {
                  "internalType": "uint256",
                  "name": "balance",
                  "type": "uint256"
                }
              ],
              "internalType": "struct BallotSystem.Voter[]",
              "name": "voters",
              "type": "tuple[]"
            },
            {
              "internalType": "string",
              "name": "question",
              "type": "string"
            },
            {
              "internalType": "enum BallotSystem.State",
              "name": "state",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "startTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "period",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "yes",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "no",
              "type": "uint256"
            }
          ],
          "internalType": "struct BallotSystem.Ballot[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "getBallotInfo",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "components": [
                {
                  "internalType": "address",
                  "name": "voter",
                  "type": "address"
                },
                {
                  "internalType": "enum BallotSystem.Answer",
                  "name": "answer",
                  "type": "uint8"
                },
                {
                  "internalType": "uint256",
                  "name": "balance",
                  "type": "uint256"
                }
              ],
              "internalType": "struct BallotSystem.Voter[]",
              "name": "voters",
              "type": "tuple[]"
            },
            {
              "internalType": "string",
              "name": "question",
              "type": "string"
            },
            {
              "internalType": "enum BallotSystem.State",
              "name": "state",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "startTime",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "period",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "minAmount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "yes",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "no",
              "type": "uint256"
            }
          ],
          "internalType": "struct BallotSystem.Ballot",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "voter_",
          "type": "address"
        }
      ],
      "name": "getTokenBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "addr",
          "type": "address"
        }
      ],
      "name": "setChairperson",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "startTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "period",
          "type": "uint256"
        }
      ],
      "name": "startVote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "enum BallotSystem.Answer",
          "name": "answer",
          "type": "uint8"
        }
      ],
      "name": "vote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5060405161123038038061123083398101604081905261002f91610062565b60008054336001600160a01b031991821617909155600380549091166001600160a01b0392909216919091179055610092565b60006020828403121561007457600080fd5b81516001600160a01b038116811461008b57600080fd5b9392505050565b61118f806100a16000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c8063943e821611610066578063943e8216146101425780639c87a5e914610155578063a69720d714610168578063c4868f881461017b578063cd3f86cd146101ab57600080fd5b80630b8710e4146100a3578063141bd92a146100c15780632e4176cf146100e15780633aecd0e31461010c578063865df0ad1461012d575b600080fd5b6100ab6101be565b6040516100b89190610e6d565b60405180910390f35b6100d46100cf366004610ecf565b610433565b6040516100b89190610ee8565b6000546100f4906001600160a01b031681565b6040516001600160a01b0390911681526020016100b8565b61011f61011a366004610efb565b610605565b6040519081526020016100b8565b61014061013b366004610ecf565b61067d565b005b610140610150366004610f24565b610745565b610140610163366004610f58565b610a87565b610140610176366004610f9a565b610b50565b610140610189366004610efb565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b6003546100f4906001600160a01b031681565b6060600060025467ffffffffffffffff8111156101dd576101dd610f84565b60405190808252806020026020018201604052801561021657816020015b610203610c08565b8152602001906001900390816101fb5790505b50905060005b60025481101561042d576000610233826001611075565b60008181526001602081815260408084208151610120810183528154815293810180548351818602810186019094528084529697509095939486948685019490919084015b828210156102fc57600084815260209081902060408051606081019091526002850290910180546001600160a01b03811683529192909190830190600160a01b900460ff1660018111156102ce576102ce610cfe565b60018111156102df576102df610cfe565b815260200160018201548152505081526020019060010190610278565b5050505081526020016002820180546103149061108d565b80601f01602080910402602001604051908101604052809291908181526020018280546103409061108d565b801561038d5780601f106103625761010080835404028352916020019161038d565b820191906000526020600020905b81548152906001019060200180831161037057829003601f168201915b5050509183525050600382015460209091019060ff1660028111156103b4576103b4610cfe565b60028111156103c5576103c5610cfe565b81526020016004820154815260200160058201548152602001600682015481526020016007820154815260200160088201548152505084848151811061040d5761040d6110c2565b602002602001018190525050508080610425906110d8565b91505061021c565b50919050565b61043b610c08565b600082815260016020818152604080842081516101208101835281548152938101805483518186028101860190945280845294959194868501949192909184015b8282101561050057600084815260209081902060408051606081019091526002850290910180546001600160a01b03811683529192909190830190600160a01b900460ff1660018111156104d2576104d2610cfe565b60018111156104e3576104e3610cfe565b81526020016001820154815250508152602001906001019061047c565b5050505081526020016002820180546105189061108d565b80601f01602080910402602001604051908101604052809291908181526020018280546105449061108d565b80156105915780601f1061056657610100808354040283529160200191610591565b820191906000526020600020905b81548152906001019060200180831161057457829003601f168201915b5050509183525050600382015460209091019060ff1660028111156105b8576105b8610cfe565b60028111156105c9576105c9610cfe565b81526004820154602082015260058201546040820152600682015460608201526007820154608082015260089091015460a09091015292915050565b6003546040516370a0823160e01b81526001600160a01b038381166004830152600092169081906370a0823190602401602060405180830381865afa158015610652573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061067691906110f3565b9392505050565b6000546001600160a01b031633146106b05760405162461bcd60e51b81526004016106a79061110c565b60405180910390fd5b80600160008281526001602052604090206003015460ff1660028111156106d9576106d9610cfe565b146107265760405162461bcd60e51b815260206004820152601b60248201527f6974206d75737420626520696e20566f74696e6720506572696f64000000000060448201526064016106a7565b506000908152600160205260409020600301805460ff19166002179055565b81600160008281526001602052604090206003015460ff16600281111561076e5761076e610cfe565b146107bb5760405162461bcd60e51b815260206004820152601b60248201527f6974206d75737420626520696e20566f74696e6720506572696f64000000000060448201526064016106a7565b60006107c633610605565b60025460009081526001602052604090206006015490915081101561082d5760405162461bcd60e51b815260206004820152601e60248201527f566f7465722073686f756c6420686176652042616c6c6f74546f6b656e2e000060448201526064016106a7565b600084815260016020526040902060058101546004909101546108509190611075565b4211156108955760405162461bcd60e51b81526020600482015260136024820152722a3432903b37ba34b7339034b99037bb32b91760691b60448201526064016106a7565b6000805b60008681526001602081905260409091200154811015610911576000868152600160208190526040909120018054339190839081106108da576108da6110c2565b60009182526020909120600290910201546001600160a01b031614156108ff57600191505b80610909816110d8565b915050610899565b5080156109515760405162461bcd60e51b815260206004820152600e60248201526d20b63932b0b23c903b37ba32b21760911b60448201526064016106a7565b600160008681526020019081526020016000206001016040518060600160405280336001600160a01b0316815260200186600181111561099357610993610cfe565b81526020908101859052825460018181018555600094855293829020835160029092020180546001600160a01b039092166001600160a01b031983168117825592840151939490939284926001600160a81b0319161790600160a01b908490811115610a0157610a01610cfe565b0217905550604091909101516001909101556000846001811115610a2757610a27610cfe565b1415610a595760008581526001602052604081206007018054849290610a4e908490611075565b90915550610a809050565b60008581526001602052604081206008018054849290610a7a908490611075565b90915550505b5050505050565b6000546001600160a01b03163314610ab15760405162461bcd60e51b81526004016106a79061110c565b826000808281526001602052604090206003015460ff166002811115610ad957610ad9610cfe565b14610b1e5760405162461bcd60e51b81526020600482015260156024820152741a5d081b5d5cdd081899481a5b8814dd185c9d1959605a1b60448201526064016106a7565b50600092835260016020819052604090932060038101805460ff19169094179093556004830191909155600590910155565b6000546001600160a01b03163314610b7a5760405162461bcd60e51b81526004016106a79061110c565b60028054906000610b8a836110d8565b90915550506002805460008181526001602081815260408084209485556003909401805460ff1916909217909155835482529190208651610bd2939190910191870190610c65565b50600280546000908152600160205260408082206006019590955581548152848120600401939093555482529190206005015550565b60405180610120016040528060008152602001606081526020016060815260200160006002811115610c3c57610c3c610cfe565b815260200160008152602001600081526020016000815260200160008152602001600081525090565b828054610c719061108d565b90600052602060002090601f016020900481019282610c935760008555610cd9565b82601f10610cac57805160ff1916838001178555610cd9565b82800160010185558215610cd9579182015b82811115610cd9578251825591602001919060010190610cbe565b50610ce5929150610ce9565b5090565b5b80821115610ce55760008155600101610cea565b634e487b7160e01b600052602160045260246000fd5b600081518084526020808501945080840160005b83811015610d7357815180516001600160a01b031688528381015160028110610d5357610d53610cfe565b888501526040908101519088015260609096019590820190600101610d28565b509495945050505050565b6000815180845260005b81811015610da457602081850181015186830182015201610d88565b81811115610db6576000602083870101525b50601f01601f19169290920160200192915050565b60038110610ddb57610ddb610cfe565b9052565b6000610120825184526020830151816020860152610dff82860182610d14565b91505060408301518482036040860152610e198282610d7e565b9150506060830151610e2e6060860182610dcb565b506080830151608085015260a083015160a085015260c083015160c085015260e083015160e08501526101008084015181860152508091505092915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610ec257603f19888603018452610eb0858351610ddf565b94509285019290850190600101610e94565b5092979650505050505050565b600060208284031215610ee157600080fd5b5035919050565b6020815260006106766020830184610ddf565b600060208284031215610f0d57600080fd5b81356001600160a01b038116811461067657600080fd5b60008060408385031215610f3757600080fd5b82359150602083013560028110610f4d57600080fd5b809150509250929050565b600080600060608486031215610f6d57600080fd5b505081359360208301359350604090920135919050565b634e487b7160e01b600052604160045260246000fd5b60008060008060808587031215610fb057600080fd5b843567ffffffffffffffff80821115610fc857600080fd5b818701915087601f830112610fdc57600080fd5b813581811115610fee57610fee610f84565b604051601f8201601f19908116603f0116810190838211818310171561101657611016610f84565b816040528281528a602084870101111561102f57600080fd5b82602086016020830137600060209382018401529a91890135995050604088013597606001359650945050505050565b634e487b7160e01b600052601160045260246000fd5b600082198211156110885761108861105f565b500190565b600181811c908216806110a157607f821691505b6020821081141561042d57634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b60006000198214156110ec576110ec61105f565b5060010190565b60006020828403121561110557600080fd5b5051919050565b6020808252602d908201527f4f6e6c79206368616972706572736f6e2063616e20737461727420616e64206560408201526c6e642074686520766f74696e6760981b60608201526080019056fea2646970667358221220bc070d66e3e3778bb5ac8608f058911fd065ca2d55ae14ea8c6c91b93078fe5264736f6c634300080a0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c8063943e821611610066578063943e8216146101425780639c87a5e914610155578063a69720d714610168578063c4868f881461017b578063cd3f86cd146101ab57600080fd5b80630b8710e4146100a3578063141bd92a146100c15780632e4176cf146100e15780633aecd0e31461010c578063865df0ad1461012d575b600080fd5b6100ab6101be565b6040516100b89190610e6d565b60405180910390f35b6100d46100cf366004610ecf565b610433565b6040516100b89190610ee8565b6000546100f4906001600160a01b031681565b6040516001600160a01b0390911681526020016100b8565b61011f61011a366004610efb565b610605565b6040519081526020016100b8565b61014061013b366004610ecf565b61067d565b005b610140610150366004610f24565b610745565b610140610163366004610f58565b610a87565b610140610176366004610f9a565b610b50565b610140610189366004610efb565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b6003546100f4906001600160a01b031681565b6060600060025467ffffffffffffffff8111156101dd576101dd610f84565b60405190808252806020026020018201604052801561021657816020015b610203610c08565b8152602001906001900390816101fb5790505b50905060005b60025481101561042d576000610233826001611075565b60008181526001602081815260408084208151610120810183528154815293810180548351818602810186019094528084529697509095939486948685019490919084015b828210156102fc57600084815260209081902060408051606081019091526002850290910180546001600160a01b03811683529192909190830190600160a01b900460ff1660018111156102ce576102ce610cfe565b60018111156102df576102df610cfe565b815260200160018201548152505081526020019060010190610278565b5050505081526020016002820180546103149061108d565b80601f01602080910402602001604051908101604052809291908181526020018280546103409061108d565b801561038d5780601f106103625761010080835404028352916020019161038d565b820191906000526020600020905b81548152906001019060200180831161037057829003601f168201915b5050509183525050600382015460209091019060ff1660028111156103b4576103b4610cfe565b60028111156103c5576103c5610cfe565b81526020016004820154815260200160058201548152602001600682015481526020016007820154815260200160088201548152505084848151811061040d5761040d6110c2565b602002602001018190525050508080610425906110d8565b91505061021c565b50919050565b61043b610c08565b600082815260016020818152604080842081516101208101835281548152938101805483518186028101860190945280845294959194868501949192909184015b8282101561050057600084815260209081902060408051606081019091526002850290910180546001600160a01b03811683529192909190830190600160a01b900460ff1660018111156104d2576104d2610cfe565b60018111156104e3576104e3610cfe565b81526020016001820154815250508152602001906001019061047c565b5050505081526020016002820180546105189061108d565b80601f01602080910402602001604051908101604052809291908181526020018280546105449061108d565b80156105915780601f1061056657610100808354040283529160200191610591565b820191906000526020600020905b81548152906001019060200180831161057457829003601f168201915b5050509183525050600382015460209091019060ff1660028111156105b8576105b8610cfe565b60028111156105c9576105c9610cfe565b81526004820154602082015260058201546040820152600682015460608201526007820154608082015260089091015460a09091015292915050565b6003546040516370a0823160e01b81526001600160a01b038381166004830152600092169081906370a0823190602401602060405180830381865afa158015610652573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061067691906110f3565b9392505050565b6000546001600160a01b031633146106b05760405162461bcd60e51b81526004016106a79061110c565b60405180910390fd5b80600160008281526001602052604090206003015460ff1660028111156106d9576106d9610cfe565b146107265760405162461bcd60e51b815260206004820152601b60248201527f6974206d75737420626520696e20566f74696e6720506572696f64000000000060448201526064016106a7565b506000908152600160205260409020600301805460ff19166002179055565b81600160008281526001602052604090206003015460ff16600281111561076e5761076e610cfe565b146107bb5760405162461bcd60e51b815260206004820152601b60248201527f6974206d75737420626520696e20566f74696e6720506572696f64000000000060448201526064016106a7565b60006107c633610605565b60025460009081526001602052604090206006015490915081101561082d5760405162461bcd60e51b815260206004820152601e60248201527f566f7465722073686f756c6420686176652042616c6c6f74546f6b656e2e000060448201526064016106a7565b600084815260016020526040902060058101546004909101546108509190611075565b4211156108955760405162461bcd60e51b81526020600482015260136024820152722a3432903b37ba34b7339034b99037bb32b91760691b60448201526064016106a7565b6000805b60008681526001602081905260409091200154811015610911576000868152600160208190526040909120018054339190839081106108da576108da6110c2565b60009182526020909120600290910201546001600160a01b031614156108ff57600191505b80610909816110d8565b915050610899565b5080156109515760405162461bcd60e51b815260206004820152600e60248201526d20b63932b0b23c903b37ba32b21760911b60448201526064016106a7565b600160008681526020019081526020016000206001016040518060600160405280336001600160a01b0316815260200186600181111561099357610993610cfe565b81526020908101859052825460018181018555600094855293829020835160029092020180546001600160a01b039092166001600160a01b031983168117825592840151939490939284926001600160a81b0319161790600160a01b908490811115610a0157610a01610cfe565b0217905550604091909101516001909101556000846001811115610a2757610a27610cfe565b1415610a595760008581526001602052604081206007018054849290610a4e908490611075565b90915550610a809050565b60008581526001602052604081206008018054849290610a7a908490611075565b90915550505b5050505050565b6000546001600160a01b03163314610ab15760405162461bcd60e51b81526004016106a79061110c565b826000808281526001602052604090206003015460ff166002811115610ad957610ad9610cfe565b14610b1e5760405162461bcd60e51b81526020600482015260156024820152741a5d081b5d5cdd081899481a5b8814dd185c9d1959605a1b60448201526064016106a7565b50600092835260016020819052604090932060038101805460ff19169094179093556004830191909155600590910155565b6000546001600160a01b03163314610b7a5760405162461bcd60e51b81526004016106a79061110c565b60028054906000610b8a836110d8565b90915550506002805460008181526001602081815260408084209485556003909401805460ff1916909217909155835482529190208651610bd2939190910191870190610c65565b50600280546000908152600160205260408082206006019590955581548152848120600401939093555482529190206005015550565b60405180610120016040528060008152602001606081526020016060815260200160006002811115610c3c57610c3c610cfe565b815260200160008152602001600081526020016000815260200160008152602001600081525090565b828054610c719061108d565b90600052602060002090601f016020900481019282610c935760008555610cd9565b82601f10610cac57805160ff1916838001178555610cd9565b82800160010185558215610cd9579182015b82811115610cd9578251825591602001919060010190610cbe565b50610ce5929150610ce9565b5090565b5b80821115610ce55760008155600101610cea565b634e487b7160e01b600052602160045260246000fd5b600081518084526020808501945080840160005b83811015610d7357815180516001600160a01b031688528381015160028110610d5357610d53610cfe565b888501526040908101519088015260609096019590820190600101610d28565b509495945050505050565b6000815180845260005b81811015610da457602081850181015186830182015201610d88565b81811115610db6576000602083870101525b50601f01601f19169290920160200192915050565b60038110610ddb57610ddb610cfe565b9052565b6000610120825184526020830151816020860152610dff82860182610d14565b91505060408301518482036040860152610e198282610d7e565b9150506060830151610e2e6060860182610dcb565b506080830151608085015260a083015160a085015260c083015160c085015260e083015160e08501526101008084015181860152508091505092915050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b82811015610ec257603f19888603018452610eb0858351610ddf565b94509285019290850190600101610e94565b5092979650505050505050565b600060208284031215610ee157600080fd5b5035919050565b6020815260006106766020830184610ddf565b600060208284031215610f0d57600080fd5b81356001600160a01b038116811461067657600080fd5b60008060408385031215610f3757600080fd5b82359150602083013560028110610f4d57600080fd5b809150509250929050565b600080600060608486031215610f6d57600080fd5b505081359360208301359350604090920135919050565b634e487b7160e01b600052604160045260246000fd5b60008060008060808587031215610fb057600080fd5b843567ffffffffffffffff80821115610fc857600080fd5b818701915087601f830112610fdc57600080fd5b813581811115610fee57610fee610f84565b604051601f8201601f19908116603f0116810190838211818310171561101657611016610f84565b816040528281528a602084870101111561102f57600080fd5b82602086016020830137600060209382018401529a91890135995050604088013597606001359650945050505050565b634e487b7160e01b600052601160045260246000fd5b600082198211156110885761108861105f565b500190565b600181811c908216806110a157607f821691505b6020821081141561042d57634e487b7160e01b600052602260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b60006000198214156110ec576110ec61105f565b5060010190565b60006020828403121561110557600080fd5b5051919050565b6020808252602d908201527f4f6e6c79206368616972706572736f6e2063616e20737461727420616e64206560408201526c6e642074686520766f74696e6760981b60608201526080019056fea2646970667358221220bc070d66e3e3778bb5ac8608f058911fd065ca2d55ae14ea8c6c91b93078fe5264736f6c634300080a0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
